<h1 class="text-3xl font-bold mb-6"><%= t "list_review" %></h1>
<%= form_with url: admin_reviews_path, method: :get, local: true do |form| %>
  <div class="mb-4 flex items-center space-x-4">
    <div class="flex flex-col">
      <%= form.label :room_type, t("review.table.room_type"), class: "text-sm font-medium" %>
      <%= form.text_field :room_type, class: "mt-1 block px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-black" %>
    </div>
    <div class="flex flex-col select-black-text">
      <%= form.label :room_number, t("review.table.room"), class: "text-sm font-medium" %>
      <%= form.select :room_number, options_for_select(@rooms.map { |room| [room.room_number, room.room_number] }), { prompt: t("select_room_number") }, class: "mt-1 block w-full border-gray-300 rounded-md shadow-sm room-select" %>
    </div>
    <div class="flex flex-col select-black-text">
      <%= form.label :status, t("review.table.status"), class: "text-sm font-medium" %>
      <%= form.collection_select :status, 
                           Review.statuses.keys.map { |status| [t("review.statuses.#{status}"), status] },
                           :second,
                           :first,
                           { prompt: t("select_status") },
                           class: "mt-1 block w-full border-gray-300 rounded-md shadow-sm" %>
    </div>
    <div class="flex flex-col justify-end">
      <%= form.submit t("search.submit"), class: "whitespace-nowrap py-3 px-4 inline-flex justify-center items-center gap-x-2 text-sm font-medium rounded-lg border border-transparent bg-gray-800 text-white hover:bg-gray-900 focus:outline-none focus:bg-blue-700" %>
    </div>
  </div>
<% end %>

<div class="flex flex-col">
  <div class="container mx-auto p-4">
    <table class="min-w-full border-collapse">
      <thead>
        <tr class="bg-gray-100">
          <th class="py-2 px-4 text-left text-sm font-medium text-gray-700 text-center"><%= t "review.table.number" %></th>
          <th class="py-2 px-4 text-left text-sm font-medium text-gray-700 text-center"><%= t "review.table.review_user" %></th>
          <th class="py-2 px-4 text-left text-sm font-medium text-gray-700 text-center"><%= t "review.table.room_type" %></th>
          <th class="py-2 px-4 text-left text-sm font-medium text-gray-700 text-center"><%= t "review.table.room" %></th>
          <th class="py-2 px-4 text-left text-sm font-medium text-gray-700 text-center"><%= t "review.table.time" %></th>
          <th class="py-2 px-4 text-left text-sm font-medium text-gray-700 text-center"><%= t "review.table.rate" %></th>
          <th class="py-2 px-4 text-left text-sm font-medium text-gray-700 text-center"><%= t "review.table.content" %></th>
          <th class="py-2 px-4 text-left text-sm font-medium text-gray-700 text-center"><%= t "review.table.status" %></th>
          <th class="py-2 px-4 text-left text-sm font-medium text-gray-700 text-center"><%= t "review.table.action" %></th>
        </tr>
      </thead>
      <tbody>
        <%= render partial: "review", collection: @reviews, as: :review, locals: { start_index: @review_start_index } %>  
      </tbody>
    </table>
    <div class="mt-4">
      <%== pagy_nav(@pagy) %>
    </div>
  </div>
</div>
